<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"      
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:cyk="http://primefaces.jsf.web.utility.cyk.org">
	
    <cyk:page value="#{nodeSelectManyUsingTreePage}" >
    	<ui:define name="centerCenter">
    		<p:panelGrid columns="2">
    			<p:fieldset legend="Available">
    				<p:tree id="tree1" value="#{nodeSelectManyUsingTreePage.sourceTree.root}" var="node" dynamic="true">
		    			<p:treeNode>
			            	<h:outputText value="#{node.code} - #{node.name}"/>
			            	<p:commandButton value="Selectionner" action="#{nodeSelectManyUsingTreePage.sourceTree.select(node)}" update="tree1,:form:tree2" />
			        	</p:treeNode>	
			        	<p:ajax event="expand" listener="#{nodeSelectManyUsingTreePage.sourceTree.listenExpand}" />
		    		</p:tree>
    			</p:fieldset>
    			<p:fieldset id="fieldset2" legend="Selected">
    				<p:tree id="tree2" value="#{nodeSelectManyUsingTreePage.sourceTree.selection}" var="node" dynamic="true">
		    			<p:treeNode>
			            	<h:outputText value="#{node.code} - #{node.name}"/>
			        	</p:treeNode>	
			        	<p:ajax event="expand" listener="#{nodeSelectManyUsingTreePage.sourceTree.listenExpand}" />
		    		</p:tree>
    			</p:fieldset>
    		</p:panelGrid>
    	</ui:define>
    </cyk:page>
    
</html>
